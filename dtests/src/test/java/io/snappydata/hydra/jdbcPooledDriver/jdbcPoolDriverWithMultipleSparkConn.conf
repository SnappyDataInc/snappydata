hydra.Prms-testRequirement = "Test to verify multiple spark version execution using pooled driver.";
hydra.Prms-testDescription = "Test to verify multiple spark version execution using pooled driver";

INCLUDE $JTESTS/io/snappydata/hydra/jdbcPooledDriver/startDualModeStockSparkCluster.conf;

INITTASK    taskClass   = io.snappydata.hydra.cluster.SnappyTest taskMethod  = HydraTask_executeSQLScripts
            io.snappydata.hydra.cluster.SnappyPrms-sqlScriptNames = tempTable.sql
            io.snappydata.hydra.cluster.SnappyPrms-dataLocation = ${dataFilesLocation}
            threadGroups = snappyThreads;

/*
INITTASK    taskClass   = io.snappydata.hydra.jdbcPooledDriver.SnappyPooledConnectionTest taskMethod  = HydraTask_runQuery
            io.snappydata.hydra.security.SnappySecurityPrms-dataLocation = ${dataLocation}
            threadGroups = snappyThreads;


INITTASK    taskClass = io.snappydata.hydra.cluster.SnappyTest taskMethod = HydraTask_startSparkCluster
            io.snappydata.hydra.security.SnappySecurityPrms-dataLocation = ${sparkDir1}
            threadGroups = snappyThreads;
*/
INITTASK    taskClass   = io.snappydata.hydra.cluster.SnappyTest taskMethod  = HydraTask_executeSparkJob
            io.snappydata.hydra.cluster.SnappyPrms-sparkJobClassNames = io.snappydata.hydra.jdbcPooledDriver.JdbcPooledDriverSparkApp
            io.snappydata.hydra.security.SnappySecurityPrms-dataLocation = ${sparkDir1}
            io.snappydata.hydra.cluster.SnappyPrms-sparkSubmitExtraPrms = " --jars ${clientJar}"
            io.snappydata.hydra.jdbcPooledDriver.SnappyPooledConnectionPrms-isStockSpark = true
            threadGroups = snappyThreads;

INITTASK    taskClass   = io.snappydata.hydra.cluster.SnappyTest taskMethod  = HydraTask_executeSparkJob
            io.snappydata.hydra.cluster.SnappyPrms-sparkJobClassNames = io.snappydata.hydra.jdbcPooledDriver.JdbcPooledDriverSparkApp
            io.snappydata.hydra.security.SnappySecurityPrms-dataLocation = ${sparkDir1}
            io.snappydata.hydra.cluster.SnappyPrms-sparkSubmitExtraPrms = " --jars ${clientJar}"
            io.snappydata.hydra.jdbcPooledDriver.SnappyPooledConnectionPrms-isStockSpark = true
            threadGroups = snappyThreads;

/*INITTASK   taskClass   = io.snappydata.hydra.security.SnappySecurityTest taskMethod  = HydraTask_runQuery
           io.snappydata.hydra.security.SnappySecurityPrms-dataLocation = ${dataLocation}
           io.snappydata.hydra.jdbcPooledDriver.SnappyPooledConnectionPrms.isPooledConnection = true;
           threadGroups = snappyThreads;

INITTASK   taskClass   = io.snappydata.hydra.security.SnappySecurityTest taskMethod  = HydraTask_runQuery
           io.snappydata.hydra.security.SnappySecurityPrms-dataLocation = ${dataLocation}
           io.snappydata.hydra.jdbcPooledDriver.SnappyPooledConnectionPrms = false;
           threadGroups = snappyThreads;

INITTASK   taskClass   = io.snappydata.hydra.security.SnappySecurityTest taskMethod  = HydraTask_runQuery
           io.snappydata.hydra.security.SnappySecurityPrms-dataLocation = ${dataLocation}
           io.snappydata.hydra.jdbcPooledDriver.SnappyPooledConnectionPrms = true;
           threadGroups = snappyThreads;


TASK     taskClass   = io.snappydata.hydra.security.SnappySecurityTest taskMethod  = HydraTask_getClientConnection
           threadGroups = snappyThreads
           maxTimesToRun = 10
           ;
           */

INCLUDE $JTESTS/io/snappydata/hydra/northwind/stopDualModeCluster.conf;

io.snappydata.hydra.cluster.SnappyPrms-userAppJar = snappydata-store-scala-tests*tests.jar;
io.snappydata.hydra.jdbcPooledDriver.SnappyPooledConnectionPrms-isStockSpark = true;
io.snappydata.hydra.cluster.SnappyPrms-shufflePartitions = 6;
io.snappydata.hydra.cluster.SnappyPrms-serverMemory = 4g;
hydra.Prms-totalTaskTimeSec = 600;
/*
io.snappydata.hydra.cluster.SnappyPrms-locatorLauncherProps = " -auth-provider=LDAP -J-Dsnappydata.auth-ldap-server=ldap://localhost:389/ -user=user1 -password=user123 -J-Dgemfirexd.auth-ldap-search-base=cn=sales-group,ou=sales,dc=example,dc=com -J-Dgemfirexd.auth-ldap-search-dn=cn=admin,dc=example,dc=com -J-Dgemfirexd.auth-ldap-search-pw=admin123";
io.snappydata.hydra.cluster.SnappyPrms-serverLauncherProps = " -auth-provider=LDAP -J-Dsnappydata.auth-ldap-server=ldap://localhost:389/ -user=user1 -password=user123 -J-Dgemfirexd.auth-ldap-search-base=cn=sales-group,ou=sales,dc=example,dc=com -J-Dgemfirexd.auth-ldap-search-dn=cn=admin,dc=example,dc=com -J-Dgemfirexd.auth-ldap-search-pw=admin123";
io.snappydata.hydra.cluster.SnappyPrms-leaderLauncherProps = " -auth-provider=LDAP -J-Dsnappydata.auth-ldap-server=ldap://localhost:389/ -user=user1 -password=user123 -J-Dgemfirexd.auth-ldap-search-base=cn=sales-group,ou=sales,dc=example,dc=com -J-Dgemfirexd.auth-ldap-search-dn=cn=admin,dc=example,dc=com -J-Dgemfirexd.auth-ldap-search-pw=admin123";

*/
