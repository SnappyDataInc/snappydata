hydra.Prms-testRequirement = "Test to verify, dataExtractor feature in a clean shut down case with json data";
 hydra.Prms-testDescription = "The test starts a normal cluster ,creates tables and populates it.
  Then the cluster is stopped and restarted in recovery mode.
  After the cluster is started in recovery mode, dml ops and ddls are executed,
   validation is done to see if the cluster is started in read only mode, ";

 INCLUDE $JTESTS/io/snappydata/hydra/northwind/startEmbeddedModeCluster.conf;

 INITTASK  taskClass   = io.snappydata.hydra.cluster.SnappyTest taskMethod  = HydraTask_executeSQLScripts
           io.snappydata.hydra.cluster.SnappyPrms-sqlScriptNames = createAndLoadTableWithJson.sql
           threadGroups = snappyThreads;

//Load the json data in the tables testL1...testL5.
 INITTASK  taskClass   = io.snappydata.hydra.cluster.SnappyTest taskMethod  = HydraTask_executeSnappyJob
           io.snappydata.hydra.cluster.SnappyPrms-jobClassNames = io.snappydata.hydra.putInto.LoadDataFromJson
           io.snappydata.hydra.cluster.SnappyPrms-userAppJar = snappydata-store-scala-tests*tests.jar
           io.snappydata.hydra.cluster.SnappyPrms-appPropsForJobServer = "jsonFile=/export/shared/QA_DATA/jsonFile/40millJsonFile,tableName=testl,fromVal=1,untilVal=3"
           threadGroups = snappyThreads;

 // Take table count
 INITTASK    taskClass  = io.snappydata.hydra.cdcConnector.SnappyCDCTest taskMethod  = HydraTask_storeDataCount
             io.snappydata.hydra.cdcConnector.SnappyCDCPrms-isBeforeRestart = true
             threadGroups = snappyThreads;

 //Stop the cluster
 INITTASK    taskClass  = io.snappydata.hydra.cdcConnector.SnappyCDCTest taskMethod  = HydraTask_stopCluster
             io.snappydata.hydra.cdcConnector.SnappyCDCPrms-snappyFileLoc = ${snappyBinPath}
             threadGroups = snappyThreads;


INCLUDE $JTESTS/io/snappydata/hydra/dataExtractorTool/dataExtractorToolStartStopCluster.conf;

INCLUDE $JTESTS/io/snappydata/hydra/northwind/stopEmbeddedModeCluster.conf;

io.snappydata.hydra.cluster.SnappyPrms-userAppJar = snappydata-store-scala-tests*tests.jar;
io.snappydata.hydra.cluster.SnappyPrms-shufflePartitions = 6;
io.snappydata.hydra.cluster.SnappyPrms-serverLauncherProps = " -heap-size=4g -memory-size=8g ";